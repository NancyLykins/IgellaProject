<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="public/css/playersMenu.css">
    <style>
        body{
            width: 50%;
        }
        *{
            color: black;
        }
        select{
            background: none;
        }
    </style>
</head>
<body>
    <form method="post" id="itemForm" enctype="multipart/form-data">
        <div class="formItem labeledInput">
            <label for="itemName">Nome:</label>
            <input type="text" name="name" id="itemName" placeholder="Escreva o nome do item" required>
        </div>
        <div class="formItem labeledInput">
            <label for="itemWeight">Peso:</label>
            <input type="number" name="weight" id="itemWeight" required>
            <select name="unity" id="weightUnity">
                <option value="gram">g</option>
                <option value="quilo">Kg</option>
            </select>
        </div>
        <div class="formItem labeledInput">
            <label for="itemType">Tipo</label>
            <select name="type" id="itemType">
                <option value="item" default>Objeto</option>
                <option value="usable">Consumivel</option>
                <option value="equipable">Equipavel</option>
            </select>
        </div>
        <div id="complement"></div>
        <div class="formItem labeledInput" id="imageInput">
            <label for="itemImage" id="itemImageLabel">Adicionar imagem do item</label>
            <input type="file" name="image" id="itemImage" accept=".png, .jpeg, .jpg" required>
        </div>
        <textarea name="desc" id="itemDesc"></textarea>
        <button type="submit" id="createItemButton">Criar Item</button>
    </form>
    <script>
        let itemType = document.getElementById("itemType")
    itemType.addEventListener("change", ()=>{
        let value = itemType.value
        let modal = document.getElementById("m154112")
        let complement = document.getElementById("complement")
        complement.innerHTML = ""
        switch(value){
            case "item":
                break
            case "usable":
                break
            case "equipable":
                complement.innerHTML = `
                <select name="itemSlot" id="itemSlot">
                    <option value="armo">Armadura</option>
                    <option value="hands">Mão(s)</option>
                    <option value="equip">Equipamentos</option>
                </select>
                `
                let itemSlot = document.getElementById("itemSlot")
                itemSlot.addEventListener("change", ()=>{
                    let value = itemSlot.value
                    let complement = document.getElementById("complement")
                    switch(value){
                        case "armo":
                            let bodyParts = document.createElement("select")
                            let parts = {
                                "head": "Cabeça",
                                "chest": "Tronco",
                                "legs": "Pernas",
                                "feets": "Pés"
                            }
                            for(let key in parts){
                                let option = document.createElement("option")
                                option.setAttribute("value", key)
                                option.innerText = parts[key]
                                bodyParts.appendChild(option)
                            }
                            bodyParts.setAttribute("name", "bodyPart")
                            bodyParts.setAttribute("ID", "bodyPart")
                            complement.append(bodyParts)
                            break
                        case "hands":
                            console.log(complement.childNodes[complement.childElementCount-1])
                            complement.removeChild(complement.childNodes[complement.childElementCount-1])
                    }
                })
                break
        }
    })
    </script>
</body>
</html>